$(document).ready(function(){rabbitBG=function(e){var t=[],n=-1,r=0;e.col||(e.col=10);e.offset||(e.offset=1);e.row=e.col;var i=function(e){var t,n,r=new Image;r.onload=function(){t=this.height,n=this.width;ratio=t/n;curr_x=$('div[data-bg-id="'+e.identifier+'"]').width();curr_y=$('div[data-bg-id="'+e.identifier+'"]').height(curr_x*ratio)};r.src=e.image},s=function(e,s){e==1&&i(s);var o=document.createElement("div");o.setAttribute("class","inner "+s.style);o.style.margin=s.offset+"%";o.style.width=100/s.col-s.offset*2+"%";o.style.height=100/s.row-s.offset*2+"%";o.style.backgroundImage="url("+s.image+")";o.style.backgroundSize=100*s.col+"%";n++;if(n==s.col){n=0;r++}o.style.backgroundPosition=100/(s.col-1)*n+"%"+" "+100/(s.col-1)*r+"%";t.push(o)},o=function(e){for(var n=0;n<e.col*e.row;n++)s(n,e);$('div[data-bg-id="'+e.identifier+'"]').append(t)};o(e)}});