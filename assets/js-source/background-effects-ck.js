function createHolder(e,t){var n=$(".bg"),r=document.createElement("div");r.setAttribute("class","img");n.appendChild(r);var i=document.createElement("div");i.id="holder"+e;i.setAttribute("class","holder");var s=bgW*e;i.style.left=bgW*e+"px";i.style.width=bgW+"px";r.appendChild(i);for(var o=0;o<pieces;o++)createBG(e,o)}function createBG(e,t){var n=document.getElementById("holder"+e),r=document.createElement("div");r.setAttribute("class","inner");r.style.width=raster+"px";r.style.left=-raster+raster*t+"px";r.style.backgroundImage="url("+imageSrc+")";r.style.backgroundPosition=bgW-raster*t+"px";n.appendChild(r)}var imageSrc="assets/img/lorempixum-650.jpg",raster=10,pieces,clientX=window.innerWidth,clientY=window.innerHeight,image=new Image;image.src=imageSrc;var bgW=image.width,bgH=image.height;pieces=bgW/raster;for(var i=0;i<30;i++)var holder=new createHolder(i,bgW*i);document.addEventListener("mousemove",function(e){var e=window.event;posX=e.pageX;posY=e.pageY;var t=clientX*posX/5e3,n=clientY*posY/5e3;for(var r=0;r<pieces/2+1;r++){$(".inner:nth-child("+r+")").css({"-webkit-transform":"rotateX("+t*.01*r+"deg)"});var i=pieces-r;$(".inner:nth-child("+i+")").css({"-webkit-transform":"rotateX("+t*.01*r+"deg)"})}});